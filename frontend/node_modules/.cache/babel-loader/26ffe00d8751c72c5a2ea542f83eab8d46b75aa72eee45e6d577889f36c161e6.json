{"ast":null,"code":"// React -> Flask API 통신 유틸\nconst BASE = \"http://127.0.0.1:5000\";\nexport async function api(path, {\n  method = \"POST\",\n  body,\n  token\n} = {}) {\n  try {\n    const headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    if (token) {\n      headers[\"Authorization\"] = `Bearer ${token}`; // ✅ 항상 Bearer 붙이기\n    }\n    const res = await fetch(`${BASE}${path}`, {\n      method,\n      headers,\n      body: body ? JSON.stringify(body) : null\n    });\n    if (!res.ok) {\n      throw new Error(`API error: ${res.status}`);\n    }\n    return await res.json();\n  } catch (err) {\n    console.error(\"API 호출 실패:\", err);\n    throw err;\n  }\n}","map":{"version":3,"names":["BASE","api","path","method","body","token","headers","res","fetch","JSON","stringify","ok","Error","status","json","err","console","error"],"sources":["C:/cal/frontend/src/api.js"],"sourcesContent":["// React -> Flask API 통신 유틸\nconst BASE = \"http://127.0.0.1:5000\";\n\nexport async function api(path, { method = \"POST\", body, token } = {}) {\n  try {\n    const headers = {\n      \"Content-Type\": \"application/json\",\n    };\n    if (token) {\n      headers[\"Authorization\"] = `Bearer ${token}`;  // ✅ 항상 Bearer 붙이기\n    }\n\n    const res = await fetch(`${BASE}${path}`, {\n      method,\n      headers,\n      body: body ? JSON.stringify(body) : null,\n    });\n\n    if (!res.ok) {\n      throw new Error(`API error: ${res.status}`);\n    }\n\n    return await res.json();\n  } catch (err) {\n    console.error(\"API 호출 실패:\", err);\n    throw err;\n  }\n}\n"],"mappings":"AAAA;AACA,MAAMA,IAAI,GAAG,uBAAuB;AAEpC,OAAO,eAAeC,GAAGA,CAACC,IAAI,EAAE;EAAEC,MAAM,GAAG,MAAM;EAAEC,IAAI;EAAEC;AAAM,CAAC,GAAG,CAAC,CAAC,EAAE;EACrE,IAAI;IACF,MAAMC,OAAO,GAAG;MACd,cAAc,EAAE;IAClB,CAAC;IACD,IAAID,KAAK,EAAE;MACTC,OAAO,CAAC,eAAe,CAAC,GAAG,UAAUD,KAAK,EAAE,CAAC,CAAE;IACjD;IAEA,MAAME,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGR,IAAI,GAAGE,IAAI,EAAE,EAAE;MACxCC,MAAM;MACNG,OAAO;MACPF,IAAI,EAAEA,IAAI,GAAGK,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,GAAG;IACtC,CAAC,CAAC;IAEF,IAAI,CAACG,GAAG,CAACI,EAAE,EAAE;MACX,MAAM,IAAIC,KAAK,CAAC,cAAcL,GAAG,CAACM,MAAM,EAAE,CAAC;IAC7C;IAEA,OAAO,MAAMN,GAAG,CAACO,IAAI,CAAC,CAAC;EACzB,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAAC,YAAY,EAAEF,GAAG,CAAC;IAChC,MAAMA,GAAG;EACX;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}