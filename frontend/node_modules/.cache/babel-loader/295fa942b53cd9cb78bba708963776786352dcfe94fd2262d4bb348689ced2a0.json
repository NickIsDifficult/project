{"ast":null,"code":"var _jsxFileName = \"C:\\\\cal\\\\frontend\\\\src\\\\CalendarView.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Calendar from \"react-calendar\";\nimport \"react-calendar/dist/Calendar.css\";\nimport DatePicker from \"react-datepicker\"; // ✅ datepicker import\nimport \"react-datepicker/dist/react-datepicker.css\"; // ✅ 스타일 import\nimport { api } from \"./api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CalendarView({\n  token,\n  projectId\n}) {\n  _s();\n  const [events, setEvents] = useState([]);\n  const [date, setDate] = useState(new Date());\n\n  // 새 일정 입력 상태\n  const [title, setTitle] = useState(\"\");\n  const [startDate, setStartDate] = useState(new Date());\n  const [endDate, setEndDate] = useState(new Date());\n\n  // 일정 목록 불러오기\n  async function load() {\n    const data = await api(`/events?project_id=${projectId}`, {\n      method: \"GET\",\n      token\n    });\n    setEvents(data);\n  }\n  useEffect(() => {\n    load();\n    // eslint-disable-next-line\n  }, []);\n\n  // 일정 추가\n  async function addEvent(e) {\n    e.preventDefault();\n    if (!title) {\n      alert(\"제목을 입력하세요!\");\n      return;\n    }\n    await api(\"/events\", {\n      method: \"POST\",\n      token,\n      body: {\n        project_id: projectId,\n        title,\n        description: \"\",\n        start_date: formatDate(startDate),\n        end_date: formatDate(endDate)\n      }\n    });\n    setTitle(\"\");\n    setStartDate(new Date());\n    setEndDate(new Date());\n    await load();\n  }\n\n  // 선택한 날짜의 이벤트만 필터링\n  const selected = events.filter(ev => date && ev.start_date <= formatDate(date) && ev.end_date >= formatDate(date));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 720,\n      margin: \"0 auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"\\uD83D\\uDCC5 \\uD504\\uB85C\\uC81D\\uD2B8 \", projectId, \" \\uCE98\\uB9B0\\uB354\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: addEvent,\n      style: {\n        marginBottom: \"20px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\uC77C\\uC815 \\uC81C\\uBAA9\",\n        value: title,\n        onChange: e => setTitle(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          gap: \"10px\",\n          marginTop: \"5px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(DatePicker, {\n          selected: startDate,\n          onChange: date => setStartDate(date),\n          dateFormat: \"yyyy-MM-dd\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n          selected: endDate,\n          onChange: date => setEndDate(date),\n          dateFormat: \"yyyy-MM-dd\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          marginTop: \"10px\"\n        },\n        children: \"+ \\uC77C\\uC815 \\uCD94\\uAC00\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 12\n      },\n      children: /*#__PURE__*/_jsxDEV(Calendar, {\n        value: date,\n        onChange: setDate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        marginTop: 16\n      },\n      children: [formatDate(date), \" \\uC77C\\uC815\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), selected.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\uC120\\uD0DD\\uD55C \\uB0A0\\uC9DC\\uC5D0 \\uC77C\\uC815\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: selected.map(ev => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: ev.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 15\n        }, this), \" (\", ev.start_date, \" ~ \", ev.end_date, \")\"]\n      }, ev.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        marginTop: 16\n      },\n      children: \"\\uC804\\uCCB4 \\uC77C\\uC815\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: events.map(ev => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: ev.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this), \" (\", ev.start_date, \" ~ \", ev.end_date, \")\"]\n      }, ev.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(CalendarView, \"sgmPar1DYdkGVkJDpDBDlKE1MK4=\");\n_c = CalendarView;\nfunction formatDate(d) {\n  const y = d.getFullYear();\n  const m = String(d.getMonth() + 1).padStart(2, \"0\");\n  const day = String(d.getDate()).padStart(2, \"0\");\n  return `${y}-${m}-${day}`;\n}\nvar _c;\n$RefreshReg$(_c, \"CalendarView\");","map":{"version":3,"names":["React","useState","useEffect","Calendar","DatePicker","api","jsxDEV","_jsxDEV","CalendarView","token","projectId","_s","events","setEvents","date","setDate","Date","title","setTitle","startDate","setStartDate","endDate","setEndDate","load","data","method","addEvent","e","preventDefault","alert","body","project_id","description","start_date","formatDate","end_date","selected","filter","ev","style","maxWidth","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","marginBottom","type","placeholder","value","onChange","target","required","display","gap","marginTop","dateFormat","length","map","id","_c","d","y","getFullYear","m","String","getMonth","padStart","day","getDate","$RefreshReg$"],"sources":["C:/cal/frontend/src/CalendarView.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Calendar from \"react-calendar\";\nimport \"react-calendar/dist/Calendar.css\";\nimport DatePicker from \"react-datepicker\";              // ✅ datepicker import\nimport \"react-datepicker/dist/react-datepicker.css\";    // ✅ 스타일 import\nimport { api } from \"./api\";\n\nexport default function CalendarView({ token, projectId }) {\n  const [events, setEvents] = useState([]);\n  const [date, setDate] = useState(new Date());\n\n  // 새 일정 입력 상태\n  const [title, setTitle] = useState(\"\");\n  const [startDate, setStartDate] = useState(new Date());\n  const [endDate, setEndDate] = useState(new Date());\n\n  // 일정 목록 불러오기\n  async function load() {\n    const data = await api(`/events?project_id=${projectId}`, {\n      method: \"GET\",\n      token,\n    });\n    setEvents(data);\n  }\n\n  useEffect(() => {\n    load();\n    // eslint-disable-next-line\n  }, []);\n\n  // 일정 추가\n  async function addEvent(e) {\n    e.preventDefault();\n    if (!title) {\n      alert(\"제목을 입력하세요!\");\n      return;\n    }\n\n    await api(\"/events\", {\n      method: \"POST\",\n      token,\n      body: {\n        project_id: projectId,\n        title,\n        description: \"\",\n        start_date: formatDate(startDate),\n        end_date: formatDate(endDate),\n      },\n    });\n\n    setTitle(\"\");\n    setStartDate(new Date());\n    setEndDate(new Date());\n    await load();\n  }\n\n  // 선택한 날짜의 이벤트만 필터링\n  const selected = events.filter(\n    (ev) =>\n      date &&\n      ev.start_date <= formatDate(date) &&\n      ev.end_date >= formatDate(date)\n  );\n\n  return (\n    <div style={{ maxWidth: 720, margin: \"0 auto\" }}>\n      <h2>📅 프로젝트 {projectId} 캘린더</h2>\n\n      {/* 일정 추가 폼 */}\n      <form onSubmit={addEvent} style={{ marginBottom: \"20px\" }}>\n        <input\n          type=\"text\"\n          placeholder=\"일정 제목\"\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n          required\n        />\n        <div style={{ display: \"flex\", gap: \"10px\", marginTop: \"5px\" }}>\n          <DatePicker\n            selected={startDate}\n            onChange={(date) => setStartDate(date)}\n            dateFormat=\"yyyy-MM-dd\"\n          />\n          <DatePicker\n            selected={endDate}\n            onChange={(date) => setEndDate(date)}\n            dateFormat=\"yyyy-MM-dd\"\n          />\n        </div>\n        <button type=\"submit\" style={{ marginTop: \"10px\" }}>\n          + 일정 추가\n        </button>\n      </form>\n\n      {/* 달력 */}\n      <div style={{ marginTop: 12 }}>\n        <Calendar value={date} onChange={setDate} />\n      </div>\n\n      <h3 style={{ marginTop: 16 }}>{formatDate(date)} 일정</h3>\n      {selected.length === 0 ? (\n        <p>선택한 날짜에 일정이 없습니다.</p>\n      ) : (\n        <ul>\n          {selected.map((ev) => (\n            <li key={ev.id}>\n              <b>{ev.title}</b> ({ev.start_date} ~ {ev.end_date})\n            </li>\n          ))}\n        </ul>\n      )}\n\n      <h3 style={{ marginTop: 16 }}>전체 일정</h3>\n      <ul>\n        {events.map((ev) => (\n          <li key={ev.id}>\n            <b>{ev.title}</b> ({ev.start_date} ~ {ev.end_date})\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nfunction formatDate(d) {\n  const y = d.getFullYear();\n  const m = String(d.getMonth() + 1).padStart(2, \"0\");\n  const day = String(d.getDate()).padStart(2, \"0\");\n  return `${y}-${m}-${day}`;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}