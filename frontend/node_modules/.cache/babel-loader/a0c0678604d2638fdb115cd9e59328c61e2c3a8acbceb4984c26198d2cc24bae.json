{"ast":null,"code":"// src/api.js\n// React -> Flask API 통신 유틸\nconst BASE = \"http://127.0.0.1:5000\"; // Flask 서버 주소\n\nexport async function api(path, {\n  method = \"POST\",\n  body,\n  token\n} = {}) {\n  try {\n    const headers = {\n      \"Content-Type\": \"application/json\"\n    };\n\n    // JWT 토큰 있으면 Authorization 추가\n    if (token) {\n      headers[\"Authorization\"] = `Bearer ${token}`;\n    }\n    const options = {\n      method,\n      headers\n    };\n    if (body) {\n      options.body = JSON.stringify(body);\n    }\n    const res = await fetch(`${BASE}${path}`, options);\n    if (!res.ok) {\n      throw new Error(`API error: ${res.status}`);\n    }\n    return await res.json();\n  } catch (err) {\n    console.error(\"API 호출 실패:\", err);\n    throw err;\n  }\n}","map":{"version":3,"names":["BASE","api","path","method","body","token","headers","options","JSON","stringify","res","fetch","ok","Error","status","json","err","console","error"],"sources":["C:/cal/frontend/src/api.js"],"sourcesContent":["// src/api.js\n// React -> Flask API 통신 유틸\nconst BASE = \"http://127.0.0.1:5000\";  // Flask 서버 주소\n\nexport async function api(path, { method = \"POST\", body, token } = {}) {\n  try {\n    const headers = {\n      \"Content-Type\": \"application/json\",\n    };\n\n    // JWT 토큰 있으면 Authorization 추가\n    if (token) {\n      headers[\"Authorization\"] = `Bearer ${token}`;\n    }\n\n    const options = { method, headers };\n    if (body) {\n      options.body = JSON.stringify(body);\n    }\n\n    const res = await fetch(`${BASE}${path}`, options);\n\n    if (!res.ok) {\n      throw new Error(`API error: ${res.status}`);\n    }\n\n    return await res.json();\n  } catch (err) {\n    console.error(\"API 호출 실패:\", err);\n    throw err;\n  }\n}\n"],"mappings":"AAAA;AACA;AACA,MAAMA,IAAI,GAAG,uBAAuB,CAAC,CAAE;;AAEvC,OAAO,eAAeC,GAAGA,CAACC,IAAI,EAAE;EAAEC,MAAM,GAAG,MAAM;EAAEC,IAAI;EAAEC;AAAM,CAAC,GAAG,CAAC,CAAC,EAAE;EACrE,IAAI;IACF,MAAMC,OAAO,GAAG;MACd,cAAc,EAAE;IAClB,CAAC;;IAED;IACA,IAAID,KAAK,EAAE;MACTC,OAAO,CAAC,eAAe,CAAC,GAAG,UAAUD,KAAK,EAAE;IAC9C;IAEA,MAAME,OAAO,GAAG;MAAEJ,MAAM;MAAEG;IAAQ,CAAC;IACnC,IAAIF,IAAI,EAAE;MACRG,OAAO,CAACH,IAAI,GAAGI,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC;IACrC;IAEA,MAAMM,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGX,IAAI,GAAGE,IAAI,EAAE,EAAEK,OAAO,CAAC;IAElD,IAAI,CAACG,GAAG,CAACE,EAAE,EAAE;MACX,MAAM,IAAIC,KAAK,CAAC,cAAcH,GAAG,CAACI,MAAM,EAAE,CAAC;IAC7C;IAEA,OAAO,MAAMJ,GAAG,CAACK,IAAI,CAAC,CAAC;EACzB,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAAC,YAAY,EAAEF,GAAG,CAAC;IAChC,MAAMA,GAAG;EACX;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}